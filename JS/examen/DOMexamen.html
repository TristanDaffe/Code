<!DOCTYPE html>
<html>
<head>
	<title>Test de mémoire</title>
	<style>
		#divImages {
		  display: flex;
		  flex-wrap: wrap;
		  background-color: lightblue;
		  padding: 12px;
		}
		.cadreImage {
		  border: 1px solid black;
		  min-width: 60px;
		  height: 60px;
		  margin: 5px;
		  background-color: white;
		}
	</style>	
</head>
<body>
	<div id="divImages"></div>
	<button id="btnDémarrer">Démarrer</button>

    <script>
        let nbCartees;
        let cadreCartes;

        window.onload = init;

        function init () {
            nbCartees = Number(prompt("entrez le nombre de cartes (entre 1 et 8)"));
            cadreCartes = document.getElementById("divImages");

            for(let i =0; i < nbCartees; i++){
                let carte = document.createElement("div");
                carte.className = "cadreImage";
                cadreCartes.appendChild(carte);

                let numCartes = (Math.round(Math.random() * 7) +1);
                carte.innerHTML = "<img src='mini" + numCartes + ".png'/>";
                carte.children[0].style.visibility = "hidden";
            }
            btnDémarrer.addEventListener("click", démarrer);
        }
        
        function démarrer(){
            let carte = cadreCartes.children[0];
            carte.children[0].style.visibility = ("visible");
            setTimeout(function(){afficheCartes(carte, carte.nextSibling)}, 1000);
        }

        function afficheCartes(cartePrec, carte){
            cartePrec.children[0].style.visibility = ("hidden"); 
            if(carte != null){
                carte.children[0].style.visibility = ("visible");
                setTimeout(function(){afficheCartes(carte, carte.nextSibling)}, 1000);
            }
        }
    </script>

</body>
</html>
